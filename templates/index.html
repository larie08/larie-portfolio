{% extends "base.html" %}

{% block title %}{{ data.name }} - {{ data.title }} Portfolio{% endblock %}

{% block content %}

<section id="home" class="hero">
    <div class="hero-content">
        <h1 class="hero-title">{{ data.name }}</h1>
        <div class="hero-subtitle">{{ data.title }}</div>
        <p class="hero-bio">{{ data.bio }}</p>
        <div class="cta-buttons">
            <a href="#projects" class="btn btn-primary">View My Work</a>
            <a href="#contact" class="btn btn-secondary">Get In Touch</a>
        </div>
    </div>
    <div class="hero-scroll-indicator">
        <span>Scroll Down</span>
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
    </div>
</section>

<section id="skills">
    <div class="container">
        <h2 class="section-title">Skills & Expertise</h2>
        <p class="section-subtitle">Tools and technologies I work with</p>
        
        <div class="skills-grid">
            {% for skill in data.skills %}
            <div class="skill-card">
                <div class="skill-icon">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                </div>
                <h3>{{ skill }}</h3>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section id="projects">
    <div class="container">
        <h2 class="section-title">Featured Projects</h2>
        <p class="section-subtitle">A selection of my recent design work</p>
        
        <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">All Projects</button>
            <button class="filter-btn" data-filter="Mobile Design">Mobile</button>
            <button class="filter-btn" data-filter="Web Design">Web</button>
        </div>
        
        <div class="projects-grid">
            {% for project in data.projects %}
            <div class="project-card" data-category="{{ project.category }}">
                <div class="project-image-wrapper">
                    <img src="{{ project.image }}" alt="{{ project.title }}" class="project-image" loading="lazy">
                    <div class="project-overlay">
                        <a href="{{ project.figma_link }}" target="_blank" rel="noopener noreferrer" class="project-overlay-link">
                            View Project
                        </a>
                    </div>
                </div>
                
                <div class="project-content">
                    <div class="project-meta">
                        <span class="project-category">{{ project.category }}</span>
                        {% if project.year %}
                        <span class="project-year">{{ project.year }}</span>
                        {% endif %}
                    </div>
                    
                    <h3 class="project-title">{{ project.title }}</h3>
                    <p class="project-description">{{ project.description }}</p>
                    
                    <div class="project-tags">
                        {% for tag in project.tags %}
                        <span class="tag">{{ tag }}</span>
                        {% endfor %}
                    </div>
                    
                   
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<section id="contact">
    <div class="container">
        <h2 class="section-title">Let's Work Together</h2>
        <p class="section-subtitle">Have a project in mind? Let's discuss how I can help bring your vision to life.</p>
        
        <div class="contact-content">
            <div class="contact-info">
                <div class="contact-item">
                    <div class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                            <polyline points="22,6 12,13 2,6"></polyline>
                        </svg>
                    </div>
                    <div>
                        <h4>Email</h4>
                        <a href="mailto:{{ data.email }}">{{ data.email }}</a>
                    </div>
                </div>
                
                <div class="contact-item">
                    <div class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M22.675 0h-21.35C.597 0 0 .597 0 1.326v21.348C0 23.403.597 24 1.326 24h11.495v-9.294H9.691V11.01h3.13V8.413c0-3.1 1.894-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24h-1.918c-1.504 0-1.796.715-1.796 1.763v2.31h3.587l-.467 3.696h-3.12V24h6.116C23.403 24 24 23.403 24 22.674V1.326C24 .597 23.403 0 22.675 0z"/>
                        </svg>
                    </div>
                    <div>
                        <h4>Facebook</h4>
                        <a href="{{ data.facebook }}" target="_blank">Connect with me</a>
                    </div>
                </div>


                <div class="contact-item">
                    <div class="contact-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2a4 4 0 0 0-4 4 4 4 0 0 0 4 4h4a4 4 0 0 0 0-8h-4z"/>
                            <path d="M8 10a4 4 0 0 0 0 8h4v-8H8z"/>
                            <circle cx="16" cy="14" r="4"/>
                        </svg>
                    </div>
                    <div>
                        <h4>Figma</h4>
                        <a href="{{ data.figma }}" target="_blank">View my portfolio</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const filterBtns = document.querySelectorAll('.filter-btn');
        const projectCards = document.querySelectorAll('.project-card');

        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                filterBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                const filter = btn.dataset.filter;

                projectCards.forEach(card => {
                    if (filter === 'all' || card.dataset.category === filter) {
                        card.style.display = 'block';
                        card.style.animation = 'fadeInUp 0.5s ease';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });
    });

    document.addEventListener('DOMContentLoaded', function() {
        const inquiryBtn = document.getElementById('inquiryBtn');
        const inquiryModal = document.getElementById('inquiryModal');
        const closeModalBtns = document.querySelectorAll('#closeModal, #closeModalFooter');
        const inquiryForm = document.getElementById('inquiryForm');

        inquiryBtn.addEventListener('click', () => inquiryModal.style.display = 'flex');
        closeModalBtns.forEach(btn => btn.addEventListener('click', () => inquiryModal.style.display = 'none'));

        inquiryForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = {
                name: inquiryForm.name.value,
                email: inquiryForm.email.value,
                message: inquiryForm.message.value
            };

            const response = await fetch('/api/contact', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(formData)
            });

            const result = await response.json();
            alert(result.message);
            if (result.status === 'success') {
                inquiryModal.style.display = 'none';
                inquiryForm.reset();
            }
        });
    });
</script>
{% endblock %}